{"version":3,"file":"rollup.js","sources":["../src/config/rollup.ts"],"sourcesContent":["import { dev, src, dest } from './env';\nimport { InputOption, OutputOptions } from 'rollup';\n\nconst sourcemap = dev ? 'inline' : false;\n\nexport default {\n\tdev,\n\n\tclient: {\n\t\tinput: (): InputOption => {\n\t\t\treturn `${src}/client.js`\n\t\t},\n\n\t\toutput: (): OutputOptions => {\n\t\t\tlet dir = `${dest}/client`;\n\t\t\tif (process.env.SAPPER_LEGACY_BUILD) dir += `/legacy`;\n\n\t\t\treturn {\n\t\t\t\tdir,\n\t\t\t\tentryFileNames: '[name].[hash].js',\n\t\t\t\tchunkFileNames: '[name].[hash].js',\n\t\t\t\tformat: 'esm',\n\t\t\t\tsourcemap\n\t\t\t};\n\t\t}\n\t},\n\n\tserver: {\n\t\tinput: (): InputOption => {\n\t\t\treturn {\n\t\t\t\tserver: `${src}/server.js`\n\t\t\t};\n\t\t},\n\n\t\toutput: (): OutputOptions => {\n\t\t\treturn {\n\t\t\t\tdir: `${dest}/server`,\n\t\t\t\tformat: 'cjs',\n\t\t\t\tsourcemap\n\t\t\t};\n\t\t}\n\t},\n\n\tserviceworker: {\n\t\tinput: (): InputOption => {\n\t\t\treturn `${src}/service-worker.js`;\n\t\t},\n\n\t\toutput: (): OutputOptions => {\n\t\t\treturn {\n\t\t\t\tfile: `${dest}/service-worker.js`,\n\t\t\t\tformat: 'iife',\n\t\t\t\tsourcemap\n\t\t\t}\n\t\t}\n\t}\n};"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;"}